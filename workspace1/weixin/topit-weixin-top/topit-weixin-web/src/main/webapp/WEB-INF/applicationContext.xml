<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:context="http://www.springframework.org/schema/context"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.springframework.org/schema/beans
      http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
      http://www.springframework.org/schema/context
      http://www.springframework.org/schema/context/spring-context.xsd">

	<!-- 引入jdbc配置文件 -->
	<context:property-placeholder location="classpath*:jdbc.properties" />
	<!-- 微信平台Mysql -->
	<bean id="dataSource"
		class="org.springframework.jdbc.datasource.DriverManagerDataSource">
		<property name="driverClassName" value="${jdbc_driverClassName}" />
		<property name="url" value="${jdbc_url}" />
		<property name="username" value="${jdbc_username}" />
		<property name="password" value="${jdbc_password}" />
	</bean>
	
	<!-- 新人事数据源oracle -->
	<bean id="hr_dataSource"
		class="org.springframework.jdbc.datasource.DriverManagerDataSource">
		<property name="driverClassName" value="${hr_jdbc_driverClassName}" />
		<property name="url" value="${hr_jdbc_url}" /> 
		<property name="username" value="${hr_jdbc_username}" />
		<property name="password" value="${hr_jdbc_password}" />
	</bean>

	<bean id="configProperties"
		class="org.springframework.beans.factory.config.PropertiesFactoryBean">
		<property name="locations">
			<list>
				<value>classpath:common.properties</value>
			</list>
		</property>
	</bean>

	<bean id="propertyConfigurer"
		class="org.springframework.beans.factory.config.PreferencesPlaceholderConfigurer">
		<property name="properties" ref="configProperties" />
	</bean>
	
	<!--文本验证-->
	<bean id="textCaptchaService" class="com.octo.captcha.text.math.GenericManageableCaptchaServiceExt">        
        <constructor-arg type="com.octo.captcha.engine.CaptchaEngine" index="0">  
            <ref bean="genericCaptchaEngine"/>  
        </constructor-arg>     
        <constructor-arg index="1">     
            <value>300</value> <!-- 五分钟后验证信息失效 -->    
        </constructor-arg>     
        <constructor-arg index="2">     
            <value>100000</value>     
        </constructor-arg>         
    </bean>  
    <bean id="genericCaptchaEngine"  class="com.octo.captcha.engine.GenericCaptchaEngine">
   		<constructor-arg>
   			<list>
   				<ref bean="mathCaptchaFactory"></ref>
   			</list>
   		</constructor-arg>
    </bean>
    <bean id="mathCaptchaFactory"  class="com.octo.captcha.text.math.CaptchaEngineTextExt"/>

</beans> 
